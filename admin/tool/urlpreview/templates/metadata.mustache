{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template tool_urlpreview/metadata
    This is the form that is rendered for the url Metadata Preview form

    Template for the URL Metadata table
    
    Example context (json):
    {
        "canonicalurl" : "https://moodle.org/logo/moodle-logo.svg", 
        "type" : "Example Article",
        "title" : "Example Title",
        "image" : "https://moodle.org/logo/moodle-logo.svg",
        "sitename" : "https://moodle.org/",
        "description" : "Example Description"
    }
}}

<style>
  .content-truncate {
    max-width: 200px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
</style>

<div style="overflow-x: auto; padding: 30px 0;">
    <table class="table table-sm table-bordered">
        <tr>
            <th>Property</th>
            <th>Content</th>
        </tr>
        <tr>
            <td>{{#str}}linkpreview, tool_urlpreview{{/str}}</td>
            <td>
                {{> core/url_preview_card}}
            </td>
        </tr>
        <tr>
            <td>{{#str}}slimpreview, tool_urlpreview{{/str}}</td>
            <td>
                {{> core/url_preview_slim}}
            </td>
        </tr>
        <tr>
            <td>og:url</td>
            <td class="content-truncate">{{#canonicalurl}}<a href="{{.}}" target="_blank">{{.}}</a>{{/canonicalurl}}{{^canonicalurl}}<i>Not available</i>{{/canonicalurl}}</td>
        </tr>
        <tr>
            <td>og:type</td>
            <td class="content-truncate">
            {{#type}}{{.}}{{/type}}{{^type}}<i>Not available</i>{{/type}}</td>
        </tr>
        <tr>
            <td>og:title</td>
            <td class="content-truncate">{{#title}}{{.}}{{/title}}{{^title}}<i>Not available</i>{{/title}}</td>
        </tr>
        <tr>
            <td>og:image</td>
            <td class="content-truncate">{{#image}}<a target="_blank" href="{{.}}">{{.}}{{/image}}{{^image}}<i>Not available</i>{{/image}}</td>
        </tr>
        <tr>
            <td>og:site_name</td>
            <td class="content-truncate">{{#sitename}}{{.}}{{/sitename}}{{^sitename}}<i>Not available</i>{{/sitename}}</td>
        </tr>
        <tr>
            <td>og:description</td>
            <td class="content-truncate">{{#description}}{{.}}{{/description}}{{^description}}<i>Not available</i>{{/description}}</td>
        </tr>
    </table>
</div>